{% extends 'layout/base.html' %}
{% block title %}Impostazioni • Privacy{% endblock %}

{% block content %}
<div class="card-container text-start">
  <h2 class="mb-1">{{ _('Privacy') }}</h2>
  <p class="text-muted mb-4">{{ _('Controlla la visibilità del profilo e i tuoi dati') }}</p>

  <form method="POST" novalidate class="form-modern">
    {{ form.hidden_tag() if form is defined }}

    <div class="form-section mb-4">
      <h5 class="section-title">{{ _('Visibilità profilo') }}</h5>

      <div class="radio-group mt-2">
        <label class="radio-item">
          {% if form is defined %}
            {{ form.profile_visibility_public(class="form-check-input") }}
          {% else %}
            <input type="radio" name="profile_visibility" value="public" checked>
          {% endif %}
          <span>{{ _('Pubblico (visibile a tutti)') }}</span>
        </label>

        <label class="radio-item">
          {% if form is defined %}
            {{ form.profile_visibility_volunteers(class="form-check-input") }}
          {% else %}
            <input type="radio" name="profile_visibility" value="volunteers">
          {% endif %}
          <span>{{ _('Solo volontari/associazioni registrati') }}</span>
        </label>

        <label class="radio-item mb-0">
          {% if form is defined %}
            {{ form.profile_visibility_private(class="form-check-input") }}
          {% else %}
            <input type="radio" name="profile_visibility" value="private">
          {% endif %}
          <span>{{ _('Privato (visibile solo a te)') }}</span>
        </label>
      </div>
    </div>

    <div class="form-section mb-4">
      <h5 class="section-title">{{ _('Contatti visibili') }}</h5>

      <label class="switch-item">
        {% if form is defined %}
          {{ form.show_email(class="form-check-input") }}
        {% else %}
          <input type="checkbox" name="show_email">
        {% endif %}
        <span>{{ _('Mostra email sul profilo') }}</span>
      </label>

      <label class="switch-item">
        {% if form is defined %}
          {{ form.show_phone(class="form-check-input") }}
        {% else %}
          <input type="checkbox" name="show_phone">
        {% endif %}
        <span>{{ _('Mostra telefono sul profilo') }}</span>
      </label>
    </div>

    <div class="text-end">
      <button type="submit" class="btn btn-primary px-4">
        {{ _('Salva impostazioni privacy') }}
      </button>
    </div>
  </form>
</div>
{% endblock %}
